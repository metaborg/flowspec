module flowspec/menus

imports

  nabl2/runtime/analysis/debug
  nabl2/runtime/prelude/-
  nabl2/runtime/pp
  nabl2/api
  signatures/nabl2/runtime/analysis/-
  signatures/nabl2/runtime/common/-
  nabl2/runtime/editor/menus
  flowspec/primitives

rules

  flowspec--show-file-control-flow-graph-helper(|a) =
    a2 := <try(nabl2-get-custom-analysis)> a
  ; flowspec--show-control-flow-graph(|a2)

  flowspec--show-file-control-flow-graph =
    nabl2--debug-file-result(flowspec--show-file-control-flow-graph-helper,id|"control-flow-graph.gv")

  flowspec--show-project-control-flow-graph =
    nabl2--debug-project-result(flowspec--show-file-control-flow-graph-helper,id|"control-flow-graph.gv")